- **Nhân sự**: *Kenny*
* **Việc đã thực hiện**:    
	- Hoàn thành event bot update policy
	- Xử lý event bot policy quản lý tiện ích
	- Cập nhật API lấy danh sách tiện ích
	- Check bug không hiển thị được Tiện ích đối với account mới đăng ký
	- API sắp xếp danh sách yêu thích với type (80%)
* **Việc hôm nay**:
	- Tối ưu job crawl cho mục tiền số 
	- Hoàn thành api sắp xếp danh sách yêu thích với type
	- Cập nhật event user update role mini app event
- **Khó khăn**: Không 
---
update group
- [ ] check query update .$[].
---

#mongo 
- [ ] check options.Update().SetArrayFilters (explore-event)
- [ ] check  $**map** & $**mergeObjects** (explore-event)
#go 
- [ ] use slices.Collect 
- [ ] using https://github.com/samber/lo to collect fields from slice of structs
---
user update role:
role A --> role B

- update by_role && delete subscriber:

| by_role  | by_user | app<br>.policy.roles | app <br>.excluded | app<br>.users | action                |
| -------- | ------- | -------------------- | ----------------- | ------------- | --------------------- |
| A        | nil     | != B                 |                   |               | delete                |
| A        | != nil  | != B                 |                   |               | update: by_role = nil |
| A \| nil | ?       | B                    |                   |               | upsert: by_role = B   |
|          |         | B                    |                   |               | add                   |
- add subscribers: 
  not in current subscribers
  not be in policy.excluded
  not be in policy.users

- [ ] case: 

TEST
- user: role A --> role B

- app1:
  role = A
---
- [ ] update app_name insert new subscriber