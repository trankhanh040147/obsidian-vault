

- Nhân sự: Kenny
* Việc đã thực hiện:  
	 - Xem luồng xử lý event KAFKA_TOPIC_USER_CHANGE_POLICY ở base background
	- Xử lý event change policy ở project mapp-event
* Việc hôm nay: 
	- Hoàn thành event user change policy ở mapp-event
- Khó khăn: packet cũ chưa đủ field để handle event ở miniapp 
---

for _, subscriber := range subscribers {  
    if subscriber.ByUser != primitive.NilObjectID {  
       for _, group := range mapApp[subscriber.AppId].Config.Policy.Groups {  
          for _, role := range group.Roles {  
             if role == h.data.NewData.Role {  
                subscribersUpdate = append(subscribersUpdate, subscriber.Id)  
                goto Exit  
             }  
          }       }       subscribersDelete = append(subscribersDelete, subscriber.Id)  
    Exit:  
    } else {  
       subscribersDelete = append(subscribersDelete, subscriber.Id)  
    }  
}

is there any way better to handle this case ? 