{
	"nodes":[
		{"id":"35801488d4b6998b","type":"file","file":"6 - Full Notes/projects/drmanager/blah/Cấu trúc JWT.png","x":-580,"y":-580,"width":651,"height":460},
		{"id":"aa0bc6852a85abab","type":"text","text":"#### Kiến trúc của JWT\n\n- Một JSON Web Token bao gồm có 3 phần phân tách nhau bằng dấu chấm.\n\n```none\nheader.payload.signature\n\nxxxxx.yyyyy.zzzzz\n\n```\n\n![](https://images.viblo.asia/e8a60783-3c1d-47a4-b3df-eca49c1a371b.png)\n\n#### Header\n\n- JWT header bao gồm loại mã thông báo và thuật toán dùng cho chữ ký và mã hóa. Thuật toán có thể **HMAC**, **SHA256**, **RSA**, **HS256** hoặc **RS256**.\n\n```none\n{\n  \"typ\": \"JWT\",\n  \"alg\": \"HS256\"\n}\n```\n\n#### Payload\n\n- Payload bao gồm dữ liệu phiên làm việc được gọi là xác nhận quyền sở hữu. Dưới đây làm một số quyền tiêu chuẩn mà chúng tôi có thể sư dụng :\n\n1. Issuer (iss)\n2. Subject (sub)\n3. Audience (aud)\n4. Expiratuib tine (exp)\n5. Issused at (iat)\n\n```none\n{\n    \"sub\": \"user10001\",\n    \"iat\": 12456321321\n}\n```\n\nchúng ta có thể tùy chỉnh các quyền xác nhận để có thể. Khi tùy chỉnh quyền xác nhận được thiết lập.\n\n- Không đặt dữ liệu lớn trong các nhóm xác nhận quyền sở hữu. Bộ xác nhận quyền sở hữu phải nhỏ gọn.\n- Không đặt thông tin nhạy cảm vì JWT có thể được giải mã dễ dàng.\n\n```none\n    {\n         \"sub\": \"user10001\",\n         \"iat\": 156721827,\n         \"role\": \"admin\",\n         \"user_id\": \"user10001\"\n    }\n```\n\n#### Signature\n\n- Chữ ký được sử dụng để xác minh rằng người gửi JWT là đúng người gửi và để đảm bảo nội dung không bị thay đổi trong quá trình gửi giữa các bên.\n- Để tạo chữ ký , header được mã hóa base64 và payload, cùng với một số bí mật và chữ ký được chỉ định thuật toán trong header.\n\nví dụ : nếu bạn đang tạo chữ ký cho mã thông báo bằng thuật toán HMAC, SHA256 :\n\n```none\n     HMACSHA256(\n      base64UrlEncode(header) + \".\" +\n      base64UrlEncode(payload),\n      secret)\n```\n\n- Chữ ký là một phần rất quan trọng nhất của JSON Web Token(JWT). Chữ ký được tính toán bằng cách mã hóa header và payload sử dụng **Base64url** để mã hóa và nối chúng cùng dấu phân cách. Sau đó được đưa cho thuật toán mã hóa.\n\n```none\n// signature algorithm\ndata = base64urlEncode(header) + \".\" + base64urlEncode(payload)\nsignature = HMAC-SHA256(data, secret_salt)\n```\n\nVì vậy, khi header hoặc payload thay đổi, chữ ký phải tính toán lại. chỉ nhà cung cấp danh tính (Identity Provider(IdP)) mới có private key để tính toán chữ ký nhằm ngăn chặn việc giả mạo mã thông báo","x":-720,"y":-40,"width":1240,"height":1160},
		{"id":"4cfb97de0786ce2f","type":"text","text":"# **DOCUMENTS**\nhttps://auth0.com/docs/secure/tokens/json-web-tokens/json-web-token-structure\n\n## [IANA JSON Web Token Claims Registry](https://www.iana.org/assignments/jwt/jwt.xhtml#claims).\n\n\n\n","x":-1840,"y":-580,"width":629,"height":740}
	],
	"edges":[]
}